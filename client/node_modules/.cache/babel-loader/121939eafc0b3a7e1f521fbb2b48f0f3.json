{"ast":null,"code":"var _jsxFileName = \"/Users/aponsaha/Desktop/Node/React/schedulefront/src/component/Scheduler.js\";\nimport React, { Component } from 'react';\nimport { ScheduleComponent, Inject, Day, Week, WorkWeek, Month, Agenda, Resize, DragAndDrop, ViewsDirective, ViewDirective, ExcelExport, Print } from '@syncfusion/ej2-react-schedule';\nimport * as dataSource from '../datasource.json';\nimport { L10n } from '@syncfusion/ej2-base';\nL10n.load({\n  'en-US': {\n    'schedule': {\n      'saveButton': 'Save',\n      'cancelButton': 'Close',\n      'deleteButton': 'Remove',\n      'newEvent': 'Add Class'\n    }\n  }\n});\nexport class ScheduleComponent1 extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      data: [],\n      res: [],\n      serverData: []\n    };\n  }\n\n  onActionBegin(args) {\n    if (args.requestType === 'toolbarItemRendering') {\n      let exportIt = {\n        align: 'Right',\n        showTextOn: 'Both',\n        prefixIcon: 'e-icon-schedule-excel-export',\n        text: ' Save',\n        cssClass: 'e-excel-export',\n        click: this.onExportDataClick.bind(this)\n      };\n      let exportItem = {\n        align: 'Right',\n        showTextOn: 'Both',\n        prefixIcon: 'e-icon-schedule-excel-export',\n        text: 'Print',\n        cssClass: 'e-excel-export',\n        click: this.onExportClick.bind(this)\n      };\n      args.items.push(exportItem);\n      args.items.push(exportIt);\n    }\n  } //adding color to events\n\n\n  onEventRendered(args) {\n    let categoryColor = args.data.CategoryColor;\n    console.log(categoryColor, 'categoryColor');\n  }\n\n  onPopupOpen(args) {\n    // this.scheduleObj.eventsData.forEach(data => {\n    //   if(!data._id){\n    //     console.log(' id');\n    //   }  \n    //   else{\n    //     console.log('no id');\n    //   }    \n    // });\n    if (this.scheduleObj.eventsData._id == '') {\n      this.scheduleObj.eventsData.forEach(eventData => console.log(eventData._id)); //console.log(\"mapped data: \", data)\n    } else {\n      console.log('no data');\n    }\n  }\n\n  componentDidMount() {\n    fetch('https://gitscheduleapp.herokuapp.com/api/groups').then(response => response.json()).then(res => this.setState({\n      data: res\n    }, () => {\n      console.log(this.state.data, 'get data');\n    }));\n  }\n\n  change(args) {\n    this.scheduleObj.selectedDate = args.value;\n    this.scheduleObj.dataBind();\n  }\n\n  onDragStart(args) {\n    args.navigation.enable = true;\n  }\n\n  onExportClick() {\n    let exportValues = {\n      fields: ['Id', 'Subject', 'StartTime', 'EndTime', 'Location', 'Description']\n    };\n    this.scheduleObj.print(exportValues);\n    console.log(this.scheduleObj.eventsData);\n  }\n\n  onExportDataClick() {\n    console.log(this.state.data);\n    fetch('https://gitscheduleapp.herokuapp.com/api/group/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.data)\n    }).then(response => response.json()).then(responseJson => {\n      console.log(\"ghjghgjygthgkj\");\n      this.setState({\n        serverData: responseJson.data\n      }, () => {\n        console.log(\"server data: \", this.state.serverData);\n      });\n      return responseJson.data;\n    }).catch(error => {\n      console.error(error);\n    });\n    console.log(JSON.stringify(this.state.data));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"schedule-control-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-9 control-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"control-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(ScheduleComponent, {\n      height: \"650px\",\n      cssClass: \"excel-export\",\n      width: \"100%\",\n      id: \"schedule\",\n      ref: schedule => this.scheduleObj = schedule,\n      selectedDate: new Date(),\n      showWeekNumber: true,\n      eventSettings: {\n        dataSource: this.state.data\n      },\n      actionBegin: this.onActionBegin.bind(this),\n      dragStart: this.onDragStart.bind(this),\n      eventRendered: this.onEventRendered.bind(this),\n      popupOpen: this.onPopupOpen.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(ViewsDirective, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(ViewDirective, {\n      option: \"Day\",\n      startHour: \"09:00\",\n      endHour: \"19:00\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(ViewDirective, {\n      option: \"Week\",\n      startHour: \"09:00\",\n      endHour: \"19:00\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(ViewDirective, {\n      option: \"WorkWeek\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(ViewDirective, {\n      option: \"Month\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(Inject, {\n      services: [Day, Week, WorkWeek, Month, Agenda, Resize, DragAndDrop, Print],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col-lg-3 property-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }));\n  }\n\n}\nexport default ScheduleComponent1;","map":{"version":3,"sources":["/Users/aponsaha/Desktop/Node/React/schedulefront/src/component/Scheduler.js"],"names":["React","Component","ScheduleComponent","Inject","Day","Week","WorkWeek","Month","Agenda","Resize","DragAndDrop","ViewsDirective","ViewDirective","ExcelExport","Print","dataSource","L10n","load","ScheduleComponent1","constructor","arguments","state","data","res","serverData","onActionBegin","args","requestType","exportIt","align","showTextOn","prefixIcon","text","cssClass","click","onExportDataClick","bind","exportItem","onExportClick","items","push","onEventRendered","categoryColor","CategoryColor","console","log","onPopupOpen","scheduleObj","eventsData","_id","forEach","eventData","componentDidMount","fetch","then","response","json","setState","change","selectedDate","value","dataBind","onDragStart","navigation","enable","exportValues","fields","print","method","headers","body","JSON","stringify","responseJson","catch","error","render","schedule","Date"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport { ScheduleComponent, Inject, Day, Week, WorkWeek, Month, Agenda, Resize, DragAndDrop, ViewsDirective, ViewDirective, ExcelExport, Print } from '@syncfusion/ej2-react-schedule';\nimport * as dataSource from '../datasource.json';\nimport { L10n } from '@syncfusion/ej2-base';\n\n\nL10n.load({\n  'en-US': {\n    'schedule': {\n      'saveButton': 'Save',\n      'cancelButton': 'Close',\n      'deleteButton': 'Remove',\n      'newEvent': 'Add Class',\n    },\n  }\n});\nexport class ScheduleComponent1 extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      data: [],\n      res: [],\n      serverData: []\n    }\n  }\n  onActionBegin(args) {\n    if (args.requestType === 'toolbarItemRendering') {\n\n      let exportIt = {\n        align: 'Right', showTextOn: 'Both', prefixIcon: 'e-icon-schedule-excel-export',\n        text: ' Save', cssClass: 'e-excel-export', click: this.onExportDataClick.bind(this)\n      };\n      let exportItem = {\n        align: 'Right', showTextOn: 'Both', prefixIcon: 'e-icon-schedule-excel-export',\n        text: 'Print', cssClass: 'e-excel-export', click: this.onExportClick.bind(this)\n      };\n      args.items.push(exportItem);\n      args.items.push(exportIt);\n      \n\n    }\n  }\n  //adding color to events\n  onEventRendered(args) {\n    let categoryColor = args.data.CategoryColor;\n    \n    console.log(categoryColor,'categoryColor');\n    \n    \n  }\n  onPopupOpen(args) {\n    // this.scheduleObj.eventsData.forEach(data => {\n\n    //   if(!data._id){\n    //     console.log(' id');\n        \n    //   }  \n    //   else{\n    //     console.log('no id');\n        \n    //   }    \n    // });\n\n    if(this.scheduleObj.eventsData._id == ''){\n    this.scheduleObj.eventsData.forEach(eventData=> console.log(eventData._id)) \n     //console.log(\"mapped data: \", data)\n\n    \n    }\n    else\n    {\n      console.log('no data')\n      \n    }\n    \n  }\n\n\n\n  componentDidMount() {\n    fetch('https://gitscheduleapp.herokuapp.com/api/groups')\n      .then(response => response.json())\n      .then(res => this.setState({ data: res }, () => {\n        console.log(this.state.data, 'get data')\n      }));\n\n  }\n  change(args) {\n    this.scheduleObj.selectedDate = args.value;\n    this.scheduleObj.dataBind();\n  }\n  onDragStart(args) {\n    args.navigation.enable = true;\n  }\n  onExportClick() {\n    let exportValues = {\n      fields: ['Id', 'Subject', 'StartTime', 'EndTime', 'Location', 'Description']\n    };\n    this.scheduleObj.print(exportValues)\n    console.log(this.scheduleObj.eventsData)\n\n\n\n  }\n\n\n  onExportDataClick() {\n\n    console.log(this.state.data)\n    fetch('https://gitscheduleapp.herokuapp.com/api/group/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(this.state.data),\n    }).then((response) => response.json())\n      .then((responseJson) => {\n        console.log(\"ghjghgjygthgkj\")\n        this.setState({serverData: responseJson.data}, ()=>{console.log(\"server data: \", this.state.serverData)})\n        return responseJson.data;\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n\n\n\n\n    console.log(JSON.stringify(this.state.data))\n\n\n\n\n\n\n\n\n\n\n\n  }\n  render() {\n    return (<div className='schedule-control-section'>\n      <div className='col-lg-9 control-section'>\n        <div className='control-wrapper'>\n          <ScheduleComponent height='650px' cssClass='excel-export' width='100%'\n            id='schedule' ref={schedule => this.scheduleObj = schedule}\n            selectedDate={new Date()} showWeekNumber={true} eventSettings={{ dataSource: this.state.data }}\n            actionBegin={this.onActionBegin.bind(this)} dragStart={(this.onDragStart.bind(this))}\n            eventRendered={this.onEventRendered.bind(this)}\n            popupOpen={this.onPopupOpen.bind(this)}\n            \n\n          >\n            <ViewsDirective>\n              <ViewDirective option='Day' startHour='09:00' endHour='19:00' />\n              <ViewDirective option='Week' startHour='09:00' endHour='19:00' />\n              <ViewDirective option='WorkWeek' />\n              <ViewDirective option='Month' />\n            </ViewsDirective>\n            <Inject services={[Day, Week, WorkWeek, Month, Agenda, Resize, DragAndDrop, Print]} />\n          </ScheduleComponent>\n        </div>\n      </div>\n      <div className='col-lg-3 property-section'>\n\n      </div>\n    </div>);\n  }\n  \n}\n\nexport default ScheduleComponent1"]},"metadata":{},"sourceType":"module"}